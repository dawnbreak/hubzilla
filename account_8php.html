<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>The Hubzilla: include/account.php File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="rm-64.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">The Hubzilla
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('account_8php.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">account.php File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Somme account related functions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2d814e588094890b3f192f64462daceb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a2d814e588094890b3f192f64462daceb">get_account_by_id</a> ($account_id)</td></tr>
<tr class="separator:a2d814e588094890b3f192f64462daceb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae052bd5558847bd38e89c213561a9771"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#ae052bd5558847bd38e89c213561a9771">check_account_email</a> ($email)</td></tr>
<tr class="separator:ae052bd5558847bd38e89c213561a9771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a144b4891022567668375b58ea61cfff0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a144b4891022567668375b58ea61cfff0">check_account_password</a> ($password)</td></tr>
<tr class="separator:a144b4891022567668375b58ea61cfff0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff7720423417a4333697894ffd9ddeb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#aaff7720423417a4333697894ffd9ddeb">check_account_invite</a> ($invite_code)</td></tr>
<tr class="separator:aaff7720423417a4333697894ffd9ddeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917d74aad0baf3e0c4b51cf1051e654f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a917d74aad0baf3e0c4b51cf1051e654f">check_account_admin</a> ($arr)</td></tr>
<tr class="separator:a917d74aad0baf3e0c4b51cf1051e654f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43e3042b2723d76915a030bac3c668b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a43e3042b2723d76915a030bac3c668b6">account_total</a> ()</td></tr>
<tr class="separator:a43e3042b2723d76915a030bac3c668b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8456aa4601a877c8266d024f25a758"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#aba8456aa4601a877c8266d024f25a758">account_store_lowlevel</a> ($arr)</td></tr>
<tr class="separator:aba8456aa4601a877c8266d024f25a758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141fe579c351c78209d425473f978eb5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a141fe579c351c78209d425473f978eb5">create_account</a> ($arr)</td></tr>
<tr class="separator:a141fe579c351c78209d425473f978eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd6b8d2124ba5ea4f4794d2c58ae8bf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#acd6b8d2124ba5ea4f4794d2c58ae8bf5">verify_email_address</a> ($arr)</td></tr>
<tr class="separator:acd6b8d2124ba5ea4f4794d2c58ae8bf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a014de2d5d5c9785de5bf547a485822fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a014de2d5d5c9785de5bf547a485822fa">send_reg_approval_email</a> ($arr)</td></tr>
<tr class="separator:a014de2d5d5c9785de5bf547a485822fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e378b8f568530586f32b338853361aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a8e378b8f568530586f32b338853361aa">send_register_success_email</a> ($email, $password)</td></tr>
<tr class="separator:a8e378b8f568530586f32b338853361aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e8a2ed8bec56409d7f63950d0f883ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a7e8a2ed8bec56409d7f63950d0f883ac">account_allow</a> ($hash)</td></tr>
<tr class="memdesc:a7e8a2ed8bec56409d7f63950d0f883ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows a user registration.  <a href="#a7e8a2ed8bec56409d7f63950d0f883ac">More...</a><br/></td></tr>
<tr class="separator:a7e8a2ed8bec56409d7f63950d0f883ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a67e5921ef88606315c9a754318f68d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a0a67e5921ef88606315c9a754318f68d">account_deny</a> ($hash)</td></tr>
<tr class="memdesc:a0a67e5921ef88606315c9a754318f68d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Denies an account registration.  <a href="#a0a67e5921ef88606315c9a754318f68d">More...</a><br/></td></tr>
<tr class="separator:a0a67e5921ef88606315c9a754318f68d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6c1f584770b44d67a2f33971a083ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a2d6c1f584770b44d67a2f33971a083ca">account_approve</a> ($hash)</td></tr>
<tr class="separator:a2d6c1f584770b44d67a2f33971a083ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d183a3cb4c67a0f5e906811df7a1fc9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a0d183a3cb4c67a0f5e906811df7a1fc9">downgrade_accounts</a> ()</td></tr>
<tr class="memdesc:a0d183a3cb4c67a0f5e906811df7a1fc9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for accounts that have past their expiration date.  <a href="#a0d183a3cb4c67a0f5e906811df7a1fc9">More...</a><br/></td></tr>
<tr class="separator:a0d183a3cb4c67a0f5e906811df7a1fc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a030cec6793b909c439c0336ba39b1571"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a030cec6793b909c439c0336ba39b1571">service_class_allows</a> ($uid, $property, $usage=false)</td></tr>
<tr class="memdesc:a030cec6793b909c439c0336ba39b1571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check service_class restrictions.  <a href="#a030cec6793b909c439c0336ba39b1571">More...</a><br/></td></tr>
<tr class="separator:a030cec6793b909c439c0336ba39b1571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac70e1d198246b029a3cedb7d6f7868bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#ac70e1d198246b029a3cedb7d6f7868bd">account_service_class_allows</a> ($aid, $property, $usage=false)</td></tr>
<tr class="memdesc:ac70e1d198246b029a3cedb7d6f7868bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check service class restrictions by account.  <a href="#ac70e1d198246b029a3cedb7d6f7868bd">More...</a><br/></td></tr>
<tr class="separator:ac70e1d198246b029a3cedb7d6f7868bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a905b54e10704b283ac64680a8abc0971"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a905b54e10704b283ac64680a8abc0971">service_class_fetch</a> ($uid, $property)</td></tr>
<tr class="memdesc:a905b54e10704b283ac64680a8abc0971"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries a service class value for a channel and property.  <a href="#a905b54e10704b283ac64680a8abc0971">More...</a><br/></td></tr>
<tr class="separator:a905b54e10704b283ac64680a8abc0971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4328c40ee4b3d68630cf1ebb7b9d4d89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a4328c40ee4b3d68630cf1ebb7b9d4d89">account_service_class_fetch</a> ($aid, $property)</td></tr>
<tr class="memdesc:a4328c40ee4b3d68630cf1ebb7b9d4d89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries a service class value for an account and property.  <a href="#a4328c40ee4b3d68630cf1ebb7b9d4d89">More...</a><br/></td></tr>
<tr class="separator:a4328c40ee4b3d68630cf1ebb7b9d4d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc13e528367f510fcb6d8bbfc559040"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a4fc13e528367f510fcb6d8bbfc559040">upgrade_link</a> ($<a class="el" href="bbcode_8php.html#aec83a8bf91284fb69c5eb5685eb2cf64">bbcode</a>=false)</td></tr>
<tr class="separator:a4fc13e528367f510fcb6d8bbfc559040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a901657dd078e070516cf97285e0bada7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a901657dd078e070516cf97285e0bada7">upgrade_message</a> ($<a class="el" href="bbcode_8php.html#aec83a8bf91284fb69c5eb5685eb2cf64">bbcode</a>=false)</td></tr>
<tr class="separator:a901657dd078e070516cf97285e0bada7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754d7f53b3abc557b753c057dc4e021d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a754d7f53b3abc557b753c057dc4e021d">upgrade_bool_message</a> ($<a class="el" href="bbcode_8php.html#aec83a8bf91284fb69c5eb5685eb2cf64">bbcode</a>=false)</td></tr>
<tr class="separator:a754d7f53b3abc557b753c057dc4e021d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f88dde57d10f2f7268ec04a7f7bc41"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="account_8php.html#a22f88dde57d10f2f7268ec04a7f7bc41">get_account_techlevel</a> ($account_id=0)</td></tr>
<tr class="separator:a22f88dde57d10f2f7268ec04a7f7bc41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Somme account related functions. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7e8a2ed8bec56409d7f63950d0f883ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">account_allow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows a user registration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$hash</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array|boolean </dd></dl>

<p>Referenced by <a class="el" href="classZotlabs_1_1Module_1_1Regmod.html#ac76d27e92feabe412e22e9aa18e4beb2">Zotlabs\Module\Regmod\get()</a>, and <a class="el" href="classZotlabs_1_1Module_1_1Admin_1_1Accounts.html#a3ee4be46938a94df33373d00ef2dcf25">Zotlabs\Module\Admin\Accounts\post()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d6c1f584770b44d67a2f33971a083ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">account_approve </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classZotlabs_1_1Module_1_1Regver.html#a7d5a1d1e9b78a3e49bea7f42dfdcfd51">Zotlabs\Module\Regver\get()</a>.</p>

</div>
</div>
<a class="anchor" id="a0a67e5921ef88606315c9a754318f68d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">account_deny </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$hash</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Denies an account registration. </p>
<p>This does not have to go through user_remove() and save the nickname permanently against re-registration, as the person was not yet allowed to have friends on this system</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$hash</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>

<p>Referenced by <a class="el" href="classZotlabs_1_1Module_1_1Regver.html#a7d5a1d1e9b78a3e49bea7f42dfdcfd51">Zotlabs\Module\Regver\get()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Regmod.html#ac76d27e92feabe412e22e9aa18e4beb2">Zotlabs\Module\Regmod\get()</a>, and <a class="el" href="classZotlabs_1_1Module_1_1Admin_1_1Accounts.html#a3ee4be46938a94df33373d00ef2dcf25">Zotlabs\Module\Admin\Accounts\post()</a>.</p>

</div>
</div>
<a class="anchor" id="ac70e1d198246b029a3cedb7d6f7868bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">account_service_class_allows </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$aid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$usage</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check service class restrictions by account. </p>
<p>If there are no service_classes defined, everything is allowed. If $usage is supplied, we check against a maximum count and return true if the current usage is less than the subscriber plan allows. Otherwise we return boolean true or false if the property is allowed (or not) in this subscriber plan. An unset property for this service plan means the property is allowed, so it is only necessary to provide negative properties for each plan, or what the subscriber is not allowed to do.</p>
<p>Like <a class="el" href="account_8php.html#a030cec6793b909c439c0336ba39b1571" title="Check service_class restrictions. ">service_class_allows()</a> but queries directly by account rather than channel.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="account_8php.html#a030cec6793b909c439c0336ba39b1571" title="Check service_class restrictions. ">service_class_allows()</a> <a class="el" href="style_8php.html#a68b2dd52d1e6819cd4221e9dc411c717">if</a> you have a channel_id instead of an account_id </dd>
<dd>
<a class="el" href="account_8php.html#a4328c40ee4b3d68630cf1ebb7b9d4d89" title="Queries a service class value for an account and property. ">account_service_class_fetch()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$aid</td><td>The account_id to check </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$property</td><td>The service class property to check for </td></tr>
    <tr><td class="paramtype">int&#160;|&#160;boolean</td><td class="paramname">$usage</td><td>(optional) The value to check against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>

<p>Referenced by <a class="el" href="channel_8php.html#ac9fcd5c4c371998790b5c55c3d0f4633">identity_check_service_class()</a>.</p>

</div>
</div>
<a class="anchor" id="a4328c40ee4b3d68630cf1ebb7b9d4d89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">account_service_class_fetch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$aid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$property</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queries a service class value for an account and property. </p>
<p>Like <a class="el" href="account_8php.html#a905b54e10704b283ac64680a8abc0971" title="Queries a service class value for a channel and property. ">service_class_fetch()</a> but queries by account rather than channel.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="account_8php.html#a905b54e10704b283ac64680a8abc0971" title="Queries a service class value for a channel and property. ">service_class_fetch()</a> <a class="el" href="style_8php.html#a68b2dd52d1e6819cd4221e9dc411c717">if</a> you have channel_id. </dd>
<dd>
<a class="el" href="account_8php.html#ac70e1d198246b029a3cedb7d6f7868bd" title="Check service class restrictions by account. ">account_service_class_allows()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$aid</td><td>The account_id to query </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$property</td><td>The service property name to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean|int </dd></dl>

<p>Referenced by <a class="el" href="account_8php.html#ac70e1d198246b029a3cedb7d6f7868bd">account_service_class_allows()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Manage.html#af0b4733c37d2e9bf34cbd0e7962b91f2">Zotlabs\Module\Manage\get()</a>, <a class="el" href="classZotlabs_1_1Module_1_1New__channel.html#acbbdadd5f80395aea44a97cd6735fdd4">Zotlabs\Module\New_channel\get()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Import.html#ab464f42309ef33a89bf4b024cf2568df">Zotlabs\Module\Import\import_account()</a>, and <a class="el" href="zot_8php.html#ac301c67864917c35922257950ae0f95c">process_channel_sync_delivery()</a>.</p>

</div>
</div>
<a class="anchor" id="aba8456aa4601a877c8266d024f25a758"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">account_store_lowlevel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="account_8php.html#a141fe579c351c78209d425473f978eb5">create_account()</a>.</p>

</div>
</div>
<a class="anchor" id="a43e3042b2723d76915a030bac3c668b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">account_total </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="account_8php.html#a141fe579c351c78209d425473f978eb5">create_account()</a>, and <a class="el" href="zot_8php.html#a12373a9b4df897b5cbedce6e6572bd34">zot_site_info()</a>.</p>

</div>
</div>
<a class="anchor" id="a917d74aad0baf3e0c4b51cf1051e654f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_account_admin </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="account_8php.html#a141fe579c351c78209d425473f978eb5">create_account()</a>.</p>

</div>
</div>
<a class="anchor" id="ae052bd5558847bd38e89c213561a9771"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_account_email </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$email</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="account_8php.html#a141fe579c351c78209d425473f978eb5">create_account()</a>, and <a class="el" href="classZotlabs_1_1Module_1_1Register.html#a2e4135b512b9b24ffa0b12471c74e3f5">Zotlabs\Module\Register\init()</a>.</p>

</div>
</div>
<a class="anchor" id="aaff7720423417a4333697894ffd9ddeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_account_invite </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$invite_code</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="account_8php.html#a141fe579c351c78209d425473f978eb5">create_account()</a>, and <a class="el" href="classZotlabs_1_1Module_1_1Register.html#a2e4135b512b9b24ffa0b12471c74e3f5">Zotlabs\Module\Register\init()</a>.</p>

</div>
</div>
<a class="anchor" id="a144b4891022567668375b58ea61cfff0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_account_password </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="account_8php.html#a141fe579c351c78209d425473f978eb5">create_account()</a>, and <a class="el" href="classZotlabs_1_1Module_1_1Register.html#a2e4135b512b9b24ffa0b12471c74e3f5">Zotlabs\Module\Register\init()</a>.</p>

</div>
</div>
<a class="anchor" id="a141fe579c351c78209d425473f978eb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">create_account </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classZotlabs_1_1Module_1_1Register.html#af00e1685e3febf8dae3b1daae2eb0029">Zotlabs\Module\Register\post()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d183a3cb4c67a0f5e906811df7a1fc9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">downgrade_accounts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for accounts that have past their expiration date. </p>
<p>If the account has a service class which is not the site default, the service class is reset to the site default and expiration reset to never. If the account has no service class it is expired and subsequently disabled. called from <a class="el" href="poller_8php.html">include/poller.php</a> as a scheduled task.</p>
<p>Reclaiming resources which are no longer within the service class limits is not the job of this function, but this can be implemented by plugin if desired. Default behaviour is to stop allowing additional resources to be consumed. </p>

<p>Referenced by <a class="el" href="classZotlabs_1_1Daemon_1_1Cron__daily.html#a8b4ae7a436092ca277399fef149526b3">Zotlabs\Daemon\Cron_daily\run()</a>.</p>

</div>
</div>
<a class="anchor" id="a2d814e588094890b3f192f64462daceb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_account_by_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$account_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="account_8php.html#a22f88dde57d10f2f7268ec04a7f7bc41">get_account_techlevel()</a>.</p>

</div>
</div>
<a class="anchor" id="a22f88dde57d10f2f7268ec04a7f7bc41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_account_techlevel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$account_id</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="bbcode_8php.html#aec83a8bf91284fb69c5eb5685eb2cf64">bbcode()</a>, <a class="el" href="nav_8php.html#a03fe267e25bfb0c9c0734497f66a0e2a">channel_apps()</a>, <a class="el" href="classZotlabs_1_1Module_1_1New__channel.html#acbbdadd5f80395aea44a97cd6735fdd4">Zotlabs\Module\New_channel\get()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Mail.html#a0a2eb2bbc1d3846647e92f058e61e3f4">Zotlabs\Module\Mail\get()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Register.html#ac245d4094a910e1e77fd67d6ed7b8a76">Zotlabs\Module\Register\get()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Settings_1_1Channel.html#a59563ef1b64d279a687f038bf2cec53b">Zotlabs\Module\Settings\Channel\get()</a>, <a class="el" href="features_8php.html#ad79d3bfc856515a7a7a4b12d8b9f87c3">get_features()</a>, <a class="el" href="classZotlabs_1_1Lib_1_1ThreadItem.html#ad944eefd4a8219ec4ae51965b6a4aad3">Zotlabs\Lib\ThreadItem\get_template_data()</a>, <a class="el" href="nav_8php.html#a97db858598a6e45b1d0b6e545b220b0d">nav()</a>, <a class="el" href="classZotlabs_1_1Render_1_1SmartyTemplate.html#a2b64aba8035f6d5109f91d05cb6cf97d">Zotlabs\Render\SmartyTemplate\replace_macros()</a>, and <a class="el" href="classZotlabs_1_1Widget_1_1Settings__menu.html#a6d214b9e1001fef3795849449a6d1035">Zotlabs\Widget\Settings_menu\widget()</a>.</p>

</div>
</div>
<a class="anchor" id="a014de2d5d5c9785de5bf547a485822fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">send_reg_approval_email </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classZotlabs_1_1Module_1_1Register.html#af00e1685e3febf8dae3b1daae2eb0029">Zotlabs\Module\Register\post()</a>.</p>

</div>
</div>
<a class="anchor" id="a8e378b8f568530586f32b338853361aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">send_register_success_email </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$email</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classZotlabs_1_1Module_1_1Register.html#af00e1685e3febf8dae3b1daae2eb0029">Zotlabs\Module\Register\post()</a>.</p>

</div>
</div>
<a class="anchor" id="a030cec6793b909c439c0336ba39b1571"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">service_class_allows </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$usage</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check service_class restrictions. </p>
<p>If there are no service_classes defined, everything is allowed. If $usage is supplied, we check against a maximum count and return true if the current usage is less than the subscriber plan allows. Otherwise we return boolean true or false if the property is allowed (or not) in this subscriber plan. An unset property for this service plan means the property is allowed, so it is only necessary to provide negative properties for each plan, or what the subscriber is not allowed to do.</p>
<p>Like <a class="el" href="account_8php.html#ac70e1d198246b029a3cedb7d6f7868bd" title="Check service class restrictions by account. ">account_service_class_allows()</a> but queries directly by account rather than channel. Service classes are set for accounts, so we look up the account for the channel and fetch the service class restrictions of the account.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="account_8php.html#ac70e1d198246b029a3cedb7d6f7868bd" title="Check service class restrictions by account. ">account_service_class_allows()</a> <a class="el" href="style_8php.html#a68b2dd52d1e6819cd4221e9dc411c717">if</a> you have a channel_id already </dd>
<dd>
<a class="el" href="account_8php.html#a905b54e10704b283ac64680a8abc0971" title="Queries a service class value for a channel and property. ">service_class_fetch()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$uid</td><td>The channel_id to check </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$property</td><td>The service class property to check for </td></tr>
    <tr><td class="paramtype">string&#160;|&#160;boolean</td><td class="paramname">$usage</td><td>(optional) The value to check against </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean </dd></dl>

<p>Referenced by <a class="el" href="classZotlabs_1_1Module_1_1Item.html#af710478f0abb736776503fc1ac5a4814">Zotlabs\Module\Item\item_check_service_class()</a>, and <a class="el" href="follow_8php.html#ae387d4ae097c23d69f3247e7f08140c7">new_contact()</a>.</p>

</div>
</div>
<a class="anchor" id="a905b54e10704b283ac64680a8abc0971"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">service_class_fetch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$property</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queries a service class value for a channel and property. </p>
<p>Service classes are set for accounts, so look up the account for this channel and fetch the service classe of the account.</p>
<p>If no service class is available it returns false and everything should be allowed.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="account_8php.html#a4328c40ee4b3d68630cf1ebb7b9d4d89" title="Queries a service class value for an account and property. ">account_service_class_fetch()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">int</td><td class="paramname">$uid</td><td>The channel_id to query </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$property</td><td>The service property name to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean|int</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo:</a></b></dt><dd>Should we merge this with <a class="el" href="account_8php.html#a4328c40ee4b3d68630cf1ebb7b9d4d89" title="Queries a service class value for an account and property. ">account_service_class_fetch()</a>? </dd></dl>

<p>Referenced by <a class="el" href="attach_8php.html#a84a8a64c4805e1525b42d4add464833f">attach_store()</a>, <a class="el" href="classZotlabs_1_1Lib_1_1Chatroom.html#a8ccf76b476c0d3944e57d93223f05724">Zotlabs\Lib\Chatroom\create()</a>, <a class="el" href="classZotlabs_1_1Lib_1_1Chatroom.html#a2f1c8f48224f6d518122ef4f1142490c">Zotlabs\Lib\Chatroom\enter()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Photos.html#a0d6e2c668a49cb511cfec0e421d875bb">Zotlabs\Module\Photos\get()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Item.html#af710478f0abb736776503fc1ac5a4814">Zotlabs\Module\Item\item_check_service_class()</a>, <a class="el" href="photos_8php.html#a6c40ef58aefef705a5adc84a40e97109">photo_upload()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Settings_1_1Tokens.html#ab3652e1f2d1b4ee49397558a1ee5d318">Zotlabs\Module\Settings\Tokens\post()</a>, <a class="el" href="zot_8php.html#ac301c67864917c35922257950ae0f95c">process_channel_sync_delivery()</a>, <a class="el" href="classZotlabs_1_1Daemon_1_1Poller.html#acbaabd8171edbf6ab25597eea32ec756">Zotlabs\Daemon\Poller\run()</a>, <a class="el" href="classZotlabs_1_1Daemon_1_1Expire.html#ad4e5d12700b0697391b805ce899f5edd">Zotlabs\Daemon\Expire\run()</a>, <a class="el" href="account_8php.html#a030cec6793b909c439c0336ba39b1571">service_class_allows()</a>, and <a class="el" href="classZotlabs_1_1Widget_1_1Follow.html#ad5ba6a0619df1803c3dc380a72b475c0">Zotlabs\Widget\Follow\widget()</a>.</p>

</div>
</div>
<a class="anchor" id="a754d7f53b3abc557b753c057dc4e021d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upgrade_bool_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bbcode</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4fc13e528367f510fcb6d8bbfc559040"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upgrade_link </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bbcode</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="account_8php.html#a754d7f53b3abc557b753c057dc4e021d">upgrade_bool_message()</a>, and <a class="el" href="account_8php.html#a901657dd078e070516cf97285e0bada7">upgrade_message()</a>.</p>

</div>
</div>
<a class="anchor" id="a901657dd078e070516cf97285e0bada7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upgrade_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$bbcode</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="attach_8php.html#a84a8a64c4805e1525b42d4add464833f">attach_store()</a>, <a class="el" href="classZotlabs_1_1Lib_1_1Chatroom.html#a8ccf76b476c0d3944e57d93223f05724">Zotlabs\Lib\Chatroom\create()</a>, <a class="el" href="channel_8php.html#ac9fcd5c4c371998790b5c55c3d0f4633">identity_check_service_class()</a>, <a class="el" href="classZotlabs_1_1Module_1_1Item.html#af710478f0abb736776503fc1ac5a4814">Zotlabs\Module\Item\item_check_service_class()</a>, <a class="el" href="follow_8php.html#ae387d4ae097c23d69f3247e7f08140c7">new_contact()</a>, and <a class="el" href="photos_8php.html#a6c40ef58aefef705a5adc84a40e97109">photo_upload()</a>.</p>

</div>
</div>
<a class="anchor" id="acd6b8d2124ba5ea4f4794d2c58ae8bf5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">verify_email_address </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="classZotlabs_1_1Module_1_1Register.html#af00e1685e3febf8dae3b1daae2eb0029">Zotlabs\Module\Register\post()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->

